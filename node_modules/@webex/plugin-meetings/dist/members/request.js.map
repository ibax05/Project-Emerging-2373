{"version":3,"names":["_webexCore","require","_constants","_parameter","_interopRequireDefault","_util","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","default","result","NewTarget","constructor","_Reflect$construct","arguments","apply","_possibleConstructorReturn2","Reflect","sham","Proxy","Boolean","prototype","valueOf","call","e","MembersRequest","_StatelessWebexPlugin","_inherits2","_super","_this","_classCallCheck2","_len","length","args","Array","_key","concat","_defineProperty2","_assertThisInitialized2","MEETINGS","_createClass2","key","value","addMembers","options","invitee","emailAddress","email","phoneNumber","locusUrl","ParameterError","requestParams","MembersUtil","getAddMemberRequestParams","request","admitMember","memberIds","getAdmitMemberRequestParams","removeMember","memberId","getRemoveMemberRequestParams","muteMember","getMuteMemberRequestParams","raiseOrLowerHandMember","getRaiseHandMemberRequestParams","lowerAllHandsMember","requestingParticipantId","getLowerAllHandsMemberRequestParams","transferHostToMember","moderator","getTransferHostToMemberRequestParams","sendDialPadKey","url","tones","generateSendDTMFRequestParams","cancelPhoneInvite","_options$invitee","generateCancelInviteRequestParams","StatelessWebexPlugin","exports"],"sources":["request.ts"],"sourcesContent":["// @ts-ignore\nimport {StatelessWebexPlugin} from '@webex/webex-core';\n\nimport {MEETINGS} from '../constants';\nimport ParameterError from '../common/errors/parameter';\n\nimport MembersUtil from './util';\n\n/**\n * @class MembersRequest\n */\nexport default class MembersRequest extends StatelessWebexPlugin {\n  namespace = MEETINGS;\n\n  /**\n   *\n   * @param {Object} options with format of {invitee: string, locusUrl: string}\n   * @returns {Promise}\n   * @throws {Error} if the options are not valid and complete, must have invitee with emailAddress OR email AND locusUrl\n   * @memberof MembersRequest\n   */\n  addMembers(options: any) {\n    if (\n      !(\n        !options ||\n        !options.invitee ||\n        !options.invitee.emailAddress ||\n        !options.invitee.email ||\n        !options.invitee.phoneNumber ||\n        !options.locusUrl\n      )\n    ) {\n      throw new ParameterError(\n        'invitee must be passed and the associated locus url for this meeting object must be defined.'\n      );\n    }\n    const requestParams = MembersUtil.getAddMemberRequestParams(options);\n\n    // @ts-ignore\n    return this.request(requestParams);\n  }\n\n  /**\n   *\n   * @param {Object} options\n   * @returns {Promise}\n   * @throws {Error} if the options are not valid and complete, must have memberIds AND locusUrl\n   * @memberof MembersRequest\n   */\n  admitMember(options: any) {\n    if (!options || !options.locusUrl || !options.memberIds) {\n      throw new ParameterError(\n        'memberIds must be an array passed and the associated locus url for this meeting object must be defined.'\n      );\n    }\n    const requestParams = MembersUtil.getAdmitMemberRequestParams(options);\n\n    // @ts-ignore\n    return this.request(requestParams);\n  }\n\n  removeMember(options) {\n    if (!options || !options.locusUrl || !options.memberId) {\n      throw new ParameterError(\n        'memberId must be defined, and the associated locus url for this meeting object must be defined.'\n      );\n    }\n\n    const requestParams = MembersUtil.getRemoveMemberRequestParams(options);\n\n    // @ts-ignore\n    return this.request(requestParams);\n  }\n\n  muteMember(options) {\n    if (!options || !options.locusUrl || !options.memberId) {\n      throw new ParameterError(\n        'memberId must be defined, and the associated locus url for this meeting object must be defined.'\n      );\n    }\n\n    const requestParams = MembersUtil.getMuteMemberRequestParams(options);\n\n    // @ts-ignore\n    return this.request(requestParams);\n  }\n\n  raiseOrLowerHandMember(options) {\n    if (!options || !options.locusUrl || !options.memberId) {\n      throw new ParameterError(\n        'memberId must be defined, and the associated locus url for this meeting object must be defined.'\n      );\n    }\n\n    const requestParams = MembersUtil.getRaiseHandMemberRequestParams(options);\n\n    // @ts-ignore\n    return this.request(requestParams);\n  }\n\n  lowerAllHandsMember(options) {\n    if (!options || !options.locusUrl || !options.requestingParticipantId) {\n      throw new ParameterError(\n        'requestingParticipantId must be defined, and the associated locus url for this meeting object must be defined.'\n      );\n    }\n\n    const requestParams = MembersUtil.getLowerAllHandsMemberRequestParams(options);\n\n    // @ts-ignore\n    return this.request(requestParams);\n  }\n\n  transferHostToMember(options) {\n    if (!options || !options.locusUrl || !options.memberId || !options.moderator) {\n      throw new ParameterError(\n        'memberId must be defined, the associated locus url, and the moderator for this meeting object must be defined.'\n      );\n    }\n\n    const requestParams = MembersUtil.getTransferHostToMemberRequestParams(options);\n\n    // @ts-ignore\n    return this.request(requestParams);\n  }\n\n  /**\n   * Sends a request to the DTMF endpoint to send tones\n   * @param {Object} options\n   * @param {String} options.locusUrl\n   * @param {String} options.url device url SIP user\n   * @param {String} options.tones a string of one or more DTMF tones to send\n   * @param {String} options.memberId ID of PSTN user\n   * @returns {Promise}\n   */\n  sendDialPadKey(options: {locusUrl: string; url: string; tones: string; memberId: string}) {\n    // @ts-ignore\n    if (\n      !options ||\n      !options.locusUrl ||\n      !options.memberId ||\n      !options.url ||\n      // @ts-ignore\n      (!options.tones && options.tones !== 0)\n    ) {\n      throw new ParameterError(\n        'memberId must be defined, the associated locus url, the device url and DTMF tones for this meeting object must be defined.'\n      );\n    }\n\n    const requestParams = MembersUtil.generateSendDTMFRequestParams(options);\n\n    // @ts-ignore\n    return this.request(requestParams);\n  }\n\n  /**\n   * @param {Object} options with format of {invitee: string, locusUrl: string}\n   * @returns {Promise}\n   * @throws {Error} if the options are not valid and complete, must have invitee with emailAddress OR email AND locusUrl\n   * @memberof MembersRequest\n   */\n  cancelPhoneInvite(options: any) {\n    if (!(options?.invitee?.phoneNumber || options?.locusUrl)) {\n      throw new ParameterError(\n        'invitee must be passed and the associated locus url for this meeting object must be defined.'\n      );\n    }\n\n    const requestParams = MembersUtil.generateCancelInviteRequestParams(options);\n\n    // @ts-ignore\n    return this.request(requestParams);\n  }\n}\n"],"mappings":"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"}