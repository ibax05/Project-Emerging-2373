{"version":3,"names":["_constants","require","PersonalMeetingRoomUtil","getClaimPmrLink","pmrLink","validator","VALID_PMR_ADDRESS","test","match","VALID_PMR_LINK","concat","WEBEX_DOT_COM","getClaimPmrPin","hostPin","VALID_PIN","getClaimedRequestParams","link","pin","options","method","HTTP_VERBS","POST","api","HECATE","resource","CMR_MEETINGS","CLAIM","body","userId","passcode","preferred","meetingAddress","_default","exports","default"],"sources":["util.ts"],"sourcesContent":["import {\n  HTTP_VERBS,\n  VALID_PIN,\n  VALID_PMR_ADDRESS,\n  VALID_PMR_LINK,\n  CMR_MEETINGS,\n  CLAIM,\n  HECATE,\n  WEBEX_DOT_COM,\n} from '../constants';\n\nconst PersonalMeetingRoomUtil: any = {};\n\nPersonalMeetingRoomUtil.getClaimPmrLink = (pmrLink) => {\n  let validator = VALID_PMR_ADDRESS.test(pmrLink);\n\n  if (validator) {\n    return pmrLink;\n  }\n  validator = pmrLink.match(VALID_PMR_LINK);\n  if (validator) {\n    // userId + '@' + site + '.webex.com'\n    return `${validator[4]}@${validator[2]}.${WEBEX_DOT_COM}`;\n  }\n\n  return null;\n};\n\nPersonalMeetingRoomUtil.getClaimPmrPin = (hostPin) => {\n  if (VALID_PIN.test(hostPin)) {\n    return hostPin;\n  }\n\n  return null;\n};\n\nPersonalMeetingRoomUtil.getClaimedRequestParams = (link, pin, options) => ({\n  method: HTTP_VERBS.POST,\n  api: HECATE,\n  resource: `/${CMR_MEETINGS}/${CLAIM}`,\n  body: {\n    userId: options.userId,\n    passcode: pin,\n    preferred: options.preferred,\n    meetingAddress: link,\n  },\n});\n\nexport default PersonalMeetingRoomUtil;\n"],"mappings":";;;;;;;AAAA,IAAAA,UAAA,GAAAC,OAAA;AAWA,IAAMC,uBAA4B,GAAG,CAAC,CAAC;AAEvCA,uBAAuB,CAACC,eAAe,GAAG,UAACC,OAAO,EAAK;EACrD,IAAIC,SAAS,GAAGC,4BAAiB,CAACC,IAAI,CAACH,OAAO,CAAC;EAE/C,IAAIC,SAAS,EAAE;IACb,OAAOD,OAAO;EAChB;EACAC,SAAS,GAAGD,OAAO,CAACI,KAAK,CAACC,yBAAc,CAAC;EACzC,IAAIJ,SAAS,EAAE;IACb;IACA,UAAAK,MAAA,CAAUL,SAAS,CAAC,CAAC,CAAC,OAAAK,MAAA,CAAIL,SAAS,CAAC,CAAC,CAAC,OAAAK,MAAA,CAAIC,wBAAa;EACzD;EAEA,OAAO,IAAI;AACb,CAAC;AAEDT,uBAAuB,CAACU,cAAc,GAAG,UAACC,OAAO,EAAK;EACpD,IAAIC,oBAAS,CAACP,IAAI,CAACM,OAAO,CAAC,EAAE;IAC3B,OAAOA,OAAO;EAChB;EAEA,OAAO,IAAI;AACb,CAAC;AAEDX,uBAAuB,CAACa,uBAAuB,GAAG,UAACC,IAAI,EAAEC,GAAG,EAAEC,OAAO;EAAA,OAAM;IACzEC,MAAM,EAAEC,qBAAU,CAACC,IAAI;IACvBC,GAAG,EAAEC,iBAAM;IACXC,QAAQ,MAAAd,MAAA,CAAMe,uBAAY,OAAAf,MAAA,CAAIgB,gBAAK,CAAE;IACrCC,IAAI,EAAE;MACJC,MAAM,EAAEV,OAAO,CAACU,MAAM;MACtBC,QAAQ,EAAEZ,GAAG;MACba,SAAS,EAAEZ,OAAO,CAACY,SAAS;MAC5BC,cAAc,EAAEf;IAClB;EACF,CAAC;AAAA,CAAC;AAAC,IAAAgB,QAAA,GAEY9B,uBAAuB;AAAA+B,OAAA,CAAAC,OAAA,GAAAF,QAAA"}