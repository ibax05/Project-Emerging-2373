{"version":3,"names":["_webexCore","require","_constants","_parameter","_interopRequireDefault","_util","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","default","result","NewTarget","constructor","_Reflect$construct","arguments","apply","_possibleConstructorReturn2","Reflect","sham","Proxy","Boolean","prototype","valueOf","call","e","PersonalMeetingRoomRequest","_StatelessWebexPlugin","_inherits2","_super","_this","_classCallCheck2","_len","length","args","Array","_key","concat","_defineProperty2","_assertThisInitialized2","MEETINGS","_createClass2","key","value","claimPmr","options","userId","passcode","meetingAddress","preferred","ParameterError","validPin","PersonalMeetingRoomUtil","getClaimPmrPin","_promise","reject","validLink","getClaimPmrLink","request","getClaimedRequestParams","StatelessWebexPlugin","exports"],"sources":["request.ts"],"sourcesContent":["// @ts-ignore\nimport {StatelessWebexPlugin} from '@webex/webex-core';\n\nimport {MEETINGS} from '../constants';\nimport ParameterError from '../common/errors/parameter';\n\nimport PersonalMeetingRoomUtil from './util';\n\n/**\n * @class MeetingInfoRequest\n */\nexport default class PersonalMeetingRoomRequest extends StatelessWebexPlugin {\n  namespace = MEETINGS;\n\n  /**\n   *\n   * @param {Object} options with format of {userId, passcode, meetingAddress, preferred}\n   * @returns {Promise} returns a promise that resolves/rejects the result of the request\n   * @memberof PersonalMeetingRoomRequest\n   */\n  claimPmr(options: any) {\n    if (\n      !options ||\n      !options.userId ||\n      !options.passcode ||\n      !options.meetingAddress ||\n      !options.preferred\n    ) {\n      throw new ParameterError(\n        'Claiming a PMR should be done with userId, passcode, preferred, and meetingAddress in options.'\n      );\n    }\n    const validPin = PersonalMeetingRoomUtil.getClaimPmrPin(options.passcode);\n\n    if (!validPin) {\n      return Promise.reject(new ParameterError('The host pin provided was of an invalid format'));\n    }\n    const validLink = PersonalMeetingRoomUtil.getClaimPmrLink(options.meetingAddress);\n\n    if (!validLink) {\n      return Promise.reject(new ParameterError('The PMR link provided was of an invalid format'));\n    }\n    const request = PersonalMeetingRoomUtil.getClaimedRequestParams(validLink, validPin, options);\n\n    // @ts-ignore\n    return this.request(request);\n  }\n}\n"],"mappings":"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"}