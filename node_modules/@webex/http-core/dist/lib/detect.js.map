{"version":3,"names":["_fileType","require","detect","_x","_detect","apply","arguments","_asyncToGenerator2","default","_regenerator","mark","_callee","buffer","fileType","wrap","_callee$","_context","prev","next","Blob","ArrayBuffer","Uint8Array","Error","abrupt","type","fromBuffer","sent","mime","stop"],"sources":["detect.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2020 Cisco Systems, Inc. See LICENSE file.\n */\n\nimport {fromBuffer} from 'file-type';\n\n/**\n * Determine mimeType for the specified buffer;\n * @param {Buffer|Uint8Array|ArrayBuffer} buffer\n * @returns {Promise<string>}\n */\nexport default async function detect(buffer) {\n  if (\n    !(buffer instanceof Blob) &&\n    !(buffer instanceof ArrayBuffer) &&\n    !(buffer instanceof Uint8Array)\n  ) {\n    throw new Error('`detect` requires a buffer of type Blob, ArrayBuffer, or Uint8Array');\n  }\n\n  if (buffer instanceof Blob) {\n    return buffer.type;\n  }\n\n  // `fromBuffer()` can take a buffer that is either a ArrayBuffer or Uinit8Array\n  const fileType = await fromBuffer(buffer);\n\n  if (!fileType) {\n    return 'application/octet-stream';\n  }\n\n  return fileType.mime;\n}\n"],"mappings":";;;;;;;;;;AAIA,IAAAA,SAAA,GAAAC,OAAA;AAJA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAJA,SAK8BC,MAAMA,CAAAC,EAAA;EAAA,OAAAC,OAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,QAAA;EAAAA,OAAA,OAAAG,kBAAA,CAAAC,OAAA,gBAAAC,YAAA,CAAAD,OAAA,CAAAE,IAAA,CAArB,SAAAC,QAAsBC,MAAM;IAAA,IAAAC,QAAA;IAAA,OAAAJ,YAAA,CAAAD,OAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAA,MAEvC,EAAEN,MAAM,YAAYO,IAAI,CAAC,IACzB,EAAEP,MAAM,YAAYQ,WAAW,CAAC,IAChC,EAAER,MAAM,YAAYS,UAAU,CAAC;YAAAL,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,MAEzB,IAAII,KAAK,CAAC,qEAAqE,CAAC;QAAA;UAAA,MAGpFV,MAAM,YAAYO,IAAI;YAAAH,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAO,MAAA,WACjBX,MAAM,CAACY,IAAI;QAAA;UAAAR,QAAA,CAAAE,IAAA;UAAA,OAIG,IAAAO,oBAAU,EAACb,MAAM,CAAC;QAAA;UAAnCC,QAAQ,GAAAG,QAAA,CAAAU,IAAA;UAAA,IAETb,QAAQ;YAAAG,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAO,MAAA,WACJ,0BAA0B;QAAA;UAAA,OAAAP,QAAA,CAAAO,MAAA,WAG5BV,QAAQ,CAACc,IAAI;QAAA;QAAA;UAAA,OAAAX,QAAA,CAAAY,IAAA;MAAA;IAAA,GAAAjB,OAAA;EAAA,CACrB;EAAA,OAAAP,OAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA"}