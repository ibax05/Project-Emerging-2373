{"version":3,"names":["_httpCore","require","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","default","result","NewTarget","constructor","_Reflect$construct","arguments","apply","_possibleConstructorReturn2","Reflect","sham","Proxy","Boolean","prototype","valueOf","call","e","RequestTimingInterceptor","_Interceptor","_inherits2","_super","_classCallCheck2","_createClass2","key","value","onRequest","options","$timings","requestStart","_now","onRequestError","requestEnd","requestFail","_promise","reject","onResponse","response","resolve","onResponseError","reason","create","Interceptor","exports"],"sources":["request-timing.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2020 Cisco Systems, Inc. See LICENSE file.\n */\n\nimport {Interceptor} from '@webex/http-core';\n\n/**\n * @class\n */\nexport default class RequestTimingInterceptor extends Interceptor {\n  /**\n   * @param {Object} options\n   * @returns {RequestTimingInterceptor}\n   */\n  static create(options) {\n    return new RequestTimingInterceptor(this, options);\n  }\n\n  /**\n   * @see Interceptor#onRequest\n   * @param {Object} options\n   * @returns {Object}\n   */\n  onRequest(options) {\n    options.$timings = options.$timings || {};\n    options.$timings.requestStart = Date.now();\n\n    return options;\n  }\n\n  /**\n   * @see Interceptor#onRequestError\n   * @param {Object} options\n   * @returns {Object}\n   */\n  onRequestError(options) {\n    options.$timings.requestEnd = options.$timings.requestFail = Date.now();\n\n    return Promise.reject(options);\n  }\n\n  /**\n   * @see Interceptor#onResponse\n   * @param {Object} options\n   * @param {HttpResponse} response\n   * @returns {Object}\n   */\n  onResponse(options, response) {\n    options.$timings.requestEnd = Date.now();\n\n    return Promise.resolve(response);\n  }\n\n  /**\n   * @see Interceptor#onResponseError\n   * @param {Object} options\n   * @param {Error} reason\n   * @returns {Object}\n   */\n  onResponseError(options, reason) {\n    options.$timings.requestEnd = options.$timings.requestFail = Date.now();\n\n    return Promise.reject(reason);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;AAIA,IAAAA,SAAA,GAAAC,OAAA;AAA6C,SAAAC,aAAAC,OAAA,QAAAC,yBAAA,GAAAC,yBAAA,oBAAAC,qBAAA,QAAAC,KAAA,OAAAC,gBAAA,CAAAC,OAAA,EAAAN,OAAA,GAAAO,MAAA,MAAAN,yBAAA,QAAAO,SAAA,OAAAH,gBAAA,CAAAC,OAAA,QAAAG,WAAA,EAAAF,MAAA,GAAAG,kBAAA,CAAAN,KAAA,EAAAO,SAAA,EAAAH,SAAA,YAAAD,MAAA,GAAAH,KAAA,CAAAQ,KAAA,OAAAD,SAAA,gBAAAE,2BAAA,CAAAP,OAAA,QAAAC,MAAA;AAAA,SAAAL,0BAAA,eAAAY,OAAA,qBAAAJ,kBAAA,oBAAAA,kBAAA,CAAAK,IAAA,2BAAAC,KAAA,oCAAAC,OAAA,CAAAC,SAAA,CAAAC,OAAA,CAAAC,IAAA,CAAAV,kBAAA,CAAAO,OAAA,8CAAAI,CAAA;AAE7C;AACA;AACA;AAFA,IAGqBC,wBAAwB,0BAAAC,YAAA;EAAA,IAAAC,UAAA,CAAAlB,OAAA,EAAAgB,wBAAA,EAAAC,YAAA;EAAA,IAAAE,MAAA,GAAA1B,YAAA,CAAAuB,wBAAA;EAAA,SAAAA,yBAAA;IAAA,IAAAI,gBAAA,CAAApB,OAAA,QAAAgB,wBAAA;IAAA,OAAAG,MAAA,CAAAb,KAAA,OAAAD,SAAA;EAAA;EAAA,IAAAgB,aAAA,CAAArB,OAAA,EAAAgB,wBAAA;IAAAM,GAAA;IAAAC,KAAA;IAS3C;AACF;AACA;AACA;AACA;IACE,SAAAC,UAAUC,OAAO,EAAE;MACjBA,OAAO,CAACC,QAAQ,GAAGD,OAAO,CAACC,QAAQ,IAAI,CAAC,CAAC;MACzCD,OAAO,CAACC,QAAQ,CAACC,YAAY,GAAG,IAAAC,IAAA,CAAA5B,OAAA,GAAU;MAE1C,OAAOyB,OAAO;IAChB;;IAEA;AACF;AACA;AACA;AACA;EAJE;IAAAH,GAAA;IAAAC,KAAA,EAKA,SAAAM,eAAeJ,OAAO,EAAE;MACtBA,OAAO,CAACC,QAAQ,CAACI,UAAU,GAAGL,OAAO,CAACC,QAAQ,CAACK,WAAW,GAAG,IAAAH,IAAA,CAAA5B,OAAA,GAAU;MAEvE,OAAOgC,QAAA,CAAAhC,OAAA,CAAQiC,MAAM,CAACR,OAAO,CAAC;IAChC;;IAEA;AACF;AACA;AACA;AACA;AACA;EALE;IAAAH,GAAA;IAAAC,KAAA,EAMA,SAAAW,WAAWT,OAAO,EAAEU,QAAQ,EAAE;MAC5BV,OAAO,CAACC,QAAQ,CAACI,UAAU,GAAG,IAAAF,IAAA,CAAA5B,OAAA,GAAU;MAExC,OAAOgC,QAAA,CAAAhC,OAAA,CAAQoC,OAAO,CAACD,QAAQ,CAAC;IAClC;;IAEA;AACF;AACA;AACA;AACA;AACA;EALE;IAAAb,GAAA;IAAAC,KAAA,EAMA,SAAAc,gBAAgBZ,OAAO,EAAEa,MAAM,EAAE;MAC/Bb,OAAO,CAACC,QAAQ,CAACI,UAAU,GAAGL,OAAO,CAACC,QAAQ,CAACK,WAAW,GAAG,IAAAH,IAAA,CAAA5B,OAAA,GAAU;MAEvE,OAAOgC,QAAA,CAAAhC,OAAA,CAAQiC,MAAM,CAACK,MAAM,CAAC;IAC/B;EAAC;IAAAhB,GAAA;IAAAC,KAAA;IArDD;AACF;AACA;AACA;IACE,SAAAgB,OAAcd,OAAO,EAAE;MACrB,OAAO,IAAIT,wBAAwB,CAAC,IAAI,EAAES,OAAO,CAAC;IACpD;EAAC;EAAA,OAAAT,wBAAA;AAAA,EAPmDwB,qBAAW;AAAAC,OAAA,CAAAzC,OAAA,GAAAgB,wBAAA"}